<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Caro</title>
    <style>
        td{
            border-color: lightgrey;
            height: 40px;
            width: 40px;
        }
    </style>
</head>
<body onclick="check(checker)">
<div id="caroChess"></div>
<script>
    let flag = true;
    let checker = [];
    let Board = function (row,col) {
        this.row = row;
        this.col = col;
        this.drawBoard = function () {
            let table = '<table border="1">';
            for(let i = 0; i<this.row; i++){
                table += '<tr>';
                for (let j =0; j<this.col; j++){
                    table += '<td onclick="play(this)" id="'+i+','+j+'" align="center"></td>'
                }
                table +='</tr>';
            }table += '</table>';
            document.getElementById('caroChess').innerHTML = table;
        }
    };
    let game = new Board(20,20);
    game.drawBoard();
    function play(cell) {
        if(flag){
            cell.innerHTML = 'X';
            flag = false;
        }else {
            cell.innerHTML = 'O';
            flag =true;
        }for (i = 0; i < game.row; i++) {
            checker[i] = new Array('');
            for (j = 0; j < game.col; j++) {
                checker[i][j] = document.getElementById(i + ',' + j).innerHTML;
            }
        }
    }
    function check(array) {
        let flag1 = false; let flag2 = false;
        for( i=0; i<game.row; i++){
            for ( j = 0; j<game.col; j++){
                if(array[i][j]==='X'&& array[i+1][j+1]==='X'&& array[i+2][j+2]==='X' && array[i+3][j+3]==='X' && array[i+4][j+4]==='X'){
                    flag1 = true;
                }else if(array[i][j]==='O'&& array[i+1][j+1]==='O'&& array[i+2][j+2]==='O' && array[i+3][j+3]==='O' && array[i+4][j+4]==='O'){
                    flag2 = true;
                }else if(array[i][j]==='X'&& array[i][j+1]==='X'&& array[i][j+2]==='X' && array[i][j+3]==='X' && array[i][j+4]==='X'){
                    flag1 = true;
                }else if(array[i][j]==='O'&& array[i][j+1]==='O'&& array[i][j+2]==='O' && array[i][j+3]==='O' && array[i][j+4]==='O'){
                    flag2 = true;
                }else if(array[i][j]==='X'&& array[i+1][j]==='X'&& array[i+2][j]==='X' && array[i+3][j]==='X' && array[i+4][j]==='X'){
                    flag1 = true;
                }else if(array[i][j]==='O'&& array[i+1][j]==='O'&& array[i+2][j]==='O' && array[i+3][j]==='O' && array[i+4][j]==='O'){
                    flag2 = true;
                }
            }
        }if(flag1){alert('X Player win')} else if(flag2){ alert('O Player Win')}
    }
</script>
</body>
</html>